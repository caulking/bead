#!/bin/bash
# Setup script for pytest-codeblocks bash tests
# This is sourced by bash before running each code block

# Determine project root (where this script lives)
PROJECT_ROOT="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Add bead CLI to PATH using absolute path
export PATH="${PROJECT_ROOT}/.venv/bin:${PATH}"

# Change to fixtures directory (fail if it doesn't exist)
cd "${PROJECT_ROOT}/tests/fixtures/cli_work" || {
    echo "ERROR: tests/fixtures/cli_work directory does not exist" >&2
    exit 1
}
